Быстрый лайфхак: искать ошибку по файлу

В PyCharm нажми Ctrl+Shift+F и найди строку:

задание 2
+ защита от неправильных данных

http://127.0.0.1:8000/api/listings/?currency=EUR&price_min=70&price_max=90
http://127.0.0.1:8000/api/listings/?city=Mannheim
http://127.0.0.1:8000/api/listings/?district=landwehr
http://127.0.0.1:8000/api/listings/?rooms_min=2&rooms_max=3
http://127.0.0.1:8000/api/listings/?housing_type=apartment
http://127.0.0.1:8000/api/listings/?sort=price_asc
http://127.0.0.1:8000/api/listings/?sort=price_desc
http://127.0.0.1:8000/api/listings/?sort=date_new
http://127.0.0.1:8000/api/listings/?sort=date_old
http://127.0.0.1:8000/api/listings/?date_from=2025-12-01&date_to=2025-12-31

http://127.0.0.1:8000/api/auth/registr/
{
  "email": "landlord2@test.com",
  "username": "landlord2",
  "password": "Qwerty123!!",
  "role": "landlord"
}
http://127.0.0.1:8000/api/auth/login/
{
  "email": "landlord2@test.com",
  "password": "Qwerty123!!"
}

http://127.0.0.1:8000/api/listings/
{
  "title": "Apartment in center",
  "description": "Nice apartment",
  "price": "1300.00",
  "currency": "EUR",
  "rooms": 22,
  "housing_type": "apartment",
  "parking_type": "none",
  "country": "Germany",
  "city": "Berlin",
  "street": "Main",
  "house_number": "10"
}
делит + обновление работает, ограничение прав то же


Scripts → Post-response (Tests) фиксируем токены
const json = pm.response.json();

pm.environment.set("access_token", json.access);
pm.environment.set("refresh_token", json.refresh);
////

const json = pm.response.json();
console.log("LOGIN RESPONSE:", json);

// пишем в ENV (не в collection!)
pm.environment.set("access_token", json.access);
pm.environment.set("refresh_token", json.refresh);

// контроль: покажем что записали
console.log("SAVED access_token:", pm.environment.get("access_token"));
console.log("SAVED refresh_token:", pm.environment.get("refresh_token"));
/////
const json = pm.response.json();

// Сохраняем именно в ENVIRONMENT
pm.environment.set("access_token", json.access);
pm.environment.set("refresh_token", json.refresh);

// Для контроля — выведем в консоль
console.log("access_token set:", pm.environment.get("access_token") ? "YES" : "NO");




В коллекции (My Collection):
Authorization
Type: Bearer Token
Token:
{{access_token}}

почта тест
python manage.py shell
from django.core.mail import mail_admins

mail_admins(
    subject="TEST: mail_admins works",
    message="Если это письмо пришло — Gmail SMTP и ADMINS настроены правильно."
)

Celery и Redis — это инструменты, которые часто используют вместе в back-end разработке (в том числе с Django и Flask).
Celery — что это?

Celery — это система для выполнения фоновых (асинхронных) задач.
То есть задач, которые:
не нужно выполнять прямо во время HTTP-запроса
могут быть долгими или тяжёлыми
Примеры задач для Celery:
отправка email
обработка изображений
генерация отчётов
уведомления
периодические задачи (cron)
обработка платежей

docker run -d --name rent-redis -p 6379:6379 redis:7-alpine
celery -A core worker --loglevel=info

celery -A core worker -P solo --loglevel=info
celery -A core beat --loglevel=info

docker exec -it rent-redis redis-cli
GET listing:20:views


Да, надо запускать каждый раз, когда ты:
перезапускаешь компьютер
закрываешь PyCharm
хочешь, чтобы работали фоновые задачи
Обычно так:
1 терминал → python manage.py runserver
2 терминал → celery -A core worker -P solo --loglevel=info
Это нормально для разработки.